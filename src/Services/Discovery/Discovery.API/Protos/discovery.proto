syntax = "proto3";

option csharp_namespace = "Blog.Services.Discovery.API.Grpc";

import "google/protobuf/empty.proto";

package Blog.Services.Discovery.API.Grpc;

service GrpcDiscoveryService {
  rpc GetRegisteredServiceUrls (GetRegisteredServiceUrlsRequest) returns (GetRegisteredServiceUrlsResponse);
  rpc GetRegisteredServices (google.protobuf.Empty) returns (GetRegisteredServicesResponse);
}

message GetRegisteredServiceUrlsRequest {
  ServiceType serviceType = 1;
}

message GetRegisteredServiceUrlsResponse {
  repeated string urls = 1;
}

message GetRegisteredServicesResponse {
  repeated ServiceInfo serviceInfo = 1;
}

message ServiceInfo {
  ServiceType type = 1;
  repeated string urls = 2;
}

enum ServiceType {
  IdentityApi = 0;
  EmailingApi = 1;
  BloggingApi = 2;
  CommentsApi = 3;
}