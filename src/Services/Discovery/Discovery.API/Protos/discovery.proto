syntax = "proto3";

option csharp_namespace = "Blog.Services.Discovery.API.Grpc";

import "google/protobuf/empty.proto";

package Blog.Services.Discovery.API.Grpc;

service GrpcDiscoveryService {
  rpc GetActiveServiceUrls (GetActiveServiceUrlsRequest) returns (GetActiveServiceUrlsResponse);
  rpc GetActiveServices (google.protobuf.Empty) returns (GetActiveServicesResponse);
}

message GetActiveServiceUrlsRequest {
  ServiceType serviceType = 1;
}

message GetActiveServiceUrlsResponse {
  repeated string serviceBaseUrls = 1;
}

message GetActiveServicesResponse {
  repeated ServiceInfo serviceInfo = 1;
}

message ServiceInfo {
  ServiceType serviceType = 1;
  repeated string serviceBaseUrls = 2;
}

enum ServiceType {
  IdentityApi = 0;
  EmailingApi = 1;
  BloggingApi = 2;
  CommentsApi = 3;
}